/*
 * This file was generated by the Gradle 'init' task.
 *
 * This generated file contains a sample Java Library project to get you started.
 * For more details take a look at the Java Libraries chapter in the Gradle
 * User Manual available at https://docs.gradle.org/6.5/userguide/java_library_plugin.html
 */

plugins {
    // Apply the java-library plugin to add support for Java Library
    id 'java-library'
    id 'com.jfrog.bintray' version '1.8.5'
    id 'maven-publish'
}

repositories {
    // Use jcenter for resolving dependencies.
    // You can declare any Maven/Ivy/file repository here.
    jcenter()
}
//生成源码jar包task
task sourcesJar(type: Jar) {
    from sourceSets.main.allJava
    archiveClassifier = 'sources'
}
//生成javadoc jar包task
task javadocJar(type: Jar) {
    from javadoc
    archiveClassifier = 'javadoc'
}
Properties properties = new Properties()
properties.load(project.rootProject.file('local.properties').newDataInputStream())
bintray {
    user = properties.getProperty("bintray.user")
    key = properties.getProperty("bintray.apikey")
    override = true
    publish = true
    pkg {
        repo = 'maven'
        name = 'hijson'
        licenses = ['MIT Licensed']
        vcsUrl = "https://github.com/crazycodeboy/hijson.git"
        issueTrackerUrl = "https://github.com/crazycodeboy/hijson/issue"
        version {
            name = '0.0.3'
            desc = "hijson 0.0.3 final"
            released = new Date()
            vcsTag = '0.0.3'
        }
    }
    publications = ['MyPublication']
}
publishing {
    publications {
        MyPublication(MavenPublication) {
            artifact(jar)
            artifact(sourcesJar)
            artifact(javadocJar)
            groupId "org.devio.hi.json"
            artifactId 'hijson'
            version '0.0.3'
        }
    }
}
dependencies {
    // This dependency is exported to consumers, that is to say found on their compile classpath.
    api 'org.apache.commons:commons-math3:3.6.1'

    // This dependency is used internally, and not exposed to consumers on their own compile classpath.
    implementation 'com.google.guava:guava:29.0-jre'

    // Use JUnit test framework
    testImplementation 'junit:junit:4.13'
}
